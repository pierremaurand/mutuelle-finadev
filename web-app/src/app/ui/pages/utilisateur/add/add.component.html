<div class="container">
  <div class="d-flex justify-content-between p-2">
    <h3 class="titre">
      <i class="fa fa-arrow-circle-left me-2 action" (click)="onBack()"></i
      >Infos utilisateur
    </h3>
    <img [src]="photo" alt="photo profil" class="rounded-circle" width="50" />
  </div>
  <hr />
  <form [formGroup]="request" (ngSubmit)="submitForm()">
    <input type="hidden" name="id" id="id" formControlName="id" />
    <div class="card shadow">
      <div class="card-body">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="login" class="form-label">Login</label>
            <input
              type="text"
              class="form-control"
              name="login"
              id="login"
              formControlName="login"
            />
            @if(request.controls['login'].touched &&
            request.controls['login'].errors?.['required']) {
            <div class="text-danger">Le login est obligatoire.</div>
            }
          </div>
          <div class="col-md-6 mb-3">
            <label for="nom" class="form-label">Nom</label>
            <input
              type="text"
              class="form-control"
              name="nom"
              id="nom"
              formControlName="nom"
            />
            @if(request.controls['nom'].touched &&
            request.controls['nom'].errors?.['required']) {
            <div class="text-danger">Le nom est obligatoire.</div>
            }
          </div>
          <div class="col-md-6 mb-3">
            <label for="sexe" class="form-label">Sexe</label>
            <select
              class="form-select"
              name="sexe"
              id="sexe"
              formControlName="sexe"
            >
              <option value="1">Masculin</option>
              <option value="2">FÃ©minin</option>
            </select>
            @if(request.controls['sexe'].touched &&
            request.controls['sexe'].errors?.['required']) {
            <div class="text-danger">Le sexe est obligatoire.</div>
            }
          </div>
          <div class="col-md-6 mb-3">
            <label for="role" class="form-label">Role</label>
            <select
              class="form-select"
              name="role"
              id="role"
              formControlName="role"
            >
              <option value="1">Administrateur</option>
              <option value="2">Utilisateur</option>
              <option value="3">Superviseur</option>
              <option value="4">Agent</option>
            </select>
            @if(request.controls['role'].touched &&
            request.controls['role'].errors?.['required']) {
            <div class="text-danger">Le role est obligatoire.</div>
            }
          </div>
        </div>
      </div>
    </div>
    <hr />
    <div class="d-flex justify-content-end gap-1">
      <button
        class="btn btn-primary"
        type="submit"
        [disabled]="request.invalid"
      >
        <i class="fa-solid fa-floppy-disk"></i> Enregistrer
      </button>
      <button class="btn btn-danger" type="button" (click)="onBack()">
        <i class="fa-solid fa-xmark"></i> Annuler
      </button>
    </div>
  </form>
</div>
